--- a/node_modules/@ai-sdk/anthropic/dist/index.js
+++ b/node_modules/@ai-sdk/anthropic/dist/index.js
@@ -649,12 +649,14 @@
                     contentValue = JSON.stringify(output.value);
                     break;
                 }
+                let handledServerToolResult = false;
                 if (part.toolName === "code_execution") {
                   if (output.type !== "json") {
                     warnings.push({
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const codeExecutionOutput = codeExecution_20250522OutputSchema.parse(
                       output.value
@@ -670,6 +672,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_fetch") {
@@ -678,6 +681,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webFetchOutput = webFetch_20250910OutputSchema.parse(
                       output.value
@@ -702,6 +706,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_search") {
@@ -710,6 +715,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webSearchOutput = webSearch_20250305OutputSchema.parse(
                       output.value
@@ -726,8 +732,10 @@
                       })),
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
+                if (handledServerToolResult) {
                   continue;
                 }
                 anthropicContent.push({
--- a/node_modules/@ai-sdk/anthropic/dist/index.mjs
+++ b/node_modules/@ai-sdk/anthropic/dist/index.mjs
@@ -632,12 +632,14 @@
                     contentValue = JSON.stringify(output.value);
                     break;
                 }
+                let handledServerToolResult = false;
                 if (part.toolName === "code_execution") {
                   if (output.type !== "json") {
                     warnings.push({
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const codeExecutionOutput = codeExecution_20250522OutputSchema.parse(
                       output.value
@@ -653,6 +655,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_fetch") {
@@ -661,6 +664,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webFetchOutput = webFetch_20250910OutputSchema.parse(
                       output.value
@@ -685,6 +689,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_search") {
@@ -693,6 +698,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webSearchOutput = webSearch_20250305OutputSchema.parse(
                       output.value
@@ -709,8 +715,10 @@
                       })),
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
+                if (handledServerToolResult) {
                   continue;
                 }
                 anthropicContent.push({
--- a/node_modules/@ai-sdk/anthropic/dist/internal/index.js
+++ b/node_modules/@ai-sdk/anthropic/dist/internal/index.js
@@ -642,12 +642,14 @@
                     contentValue = JSON.stringify(output.value);
                     break;
                 }
+                let handledServerToolResult = false;
                 if (part.toolName === "code_execution") {
                   if (output.type !== "json") {
                     warnings.push({
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const codeExecutionOutput = codeExecution_20250522OutputSchema.parse(
                       output.value
@@ -663,6 +665,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_fetch") {
@@ -671,6 +674,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webFetchOutput = webFetch_20250910OutputSchema.parse(
                       output.value
@@ -695,6 +699,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_search") {
@@ -703,6 +708,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webSearchOutput = webSearch_20250305OutputSchema.parse(
                       output.value
@@ -719,8 +725,10 @@
                       })),
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
+                if (handledServerToolResult) {
                   continue;
                 }
                 anthropicContent.push({
--- a/node_modules/@ai-sdk/anthropic/dist/internal/index.mjs
+++ b/node_modules/@ai-sdk/anthropic/dist/internal/index.mjs
@@ -618,12 +618,14 @@
                     contentValue = JSON.stringify(output.value);
                     break;
                 }
+                let handledServerToolResult = false;
                 if (part.toolName === "code_execution") {
                   if (output.type !== "json") {
                     warnings.push({
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const codeExecutionOutput = codeExecution_20250522OutputSchema.parse(
                       output.value
@@ -639,6 +641,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_fetch") {
@@ -647,6 +650,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webFetchOutput = webFetch_20250910OutputSchema.parse(
                       output.value
@@ -671,6 +675,7 @@
                       },
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
                 if (part.toolName === "web_search") {
@@ -679,6 +684,7 @@
                       type: "other",
                       message: `provider tool result output type ${output.type} for tool ${part.toolName} is not supported`
                     });
+                    handledServerToolResult = true;
                   } else {
                     const webSearchOutput = webSearch_20250305OutputSchema.parse(
                       output.value
@@ -695,8 +701,10 @@
                       })),
                       cache_control: cacheControl
                     });
+                    handledServerToolResult = true;
                   }
                 }
+                if (handledServerToolResult) {
                   continue;
                 }
                 anthropicContent.push({
